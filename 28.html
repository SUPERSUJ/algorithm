<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<p>深复制</p>
    <script type="text/javascript">
      // 深度优先深复制
      var a = { name: 1 };
      var b = function() {}
			var arr = [false, /\d+/g, 'a', b, new Date()];
			function deepCopyDepth (target) {
        let _target;
        if (Array.isArray(target)) {
          _target = [];
          target.forEach((item) => _target.push(deepCopyDepth(item)));
        } else if (target instanceof Date) {
          _target = new Date(target);
        } else if (target instanceof RegExp) {
          _target = new RegExp(target);
        } else if (target && typeof target === 'object') {
          _target = {};
          Object.keys(target).forEach((key) => _target[key] = deepCopyDepth(target[key]));
        } else {
          _target = target;
        }
				return _target;
      }
      var other = deepCopyDepth(arr);
			console.log(other);
      console.log(other[1] === arr[1]);
      
      // 广度优先深复制
      // function deepCopyBreath(target) {
      //   let lightCopy = item => {
      //     let _item;
      //     if (Array.isArray(item)) {
      //       _item = [...item];
      //     } else if (item instanceof Date) {
      //       _item = new Date(item);
      //     } else if (item instanceof RegExp) {
      //       _item = new RegExp(item);
      //     } else if (item && typeof item === 'object') {
      //       _item = { ...item };
      //     } else {
      //       _item = item;
      //     }
      //     return _item;
      //   }

      //   let queue = [];
      //   let _target = lightCopy(target);
      //   queue.unshift(_target);
      //   while(queue.length > 0) {
      //     var tmp = queu0e.shift();
      //     if (Array.isArray(tmp)) {
      //       tmp.forEach();
      //     }
      //   }
      // }
		</script>
	</body>
</html>
